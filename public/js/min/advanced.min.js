!function(a,b,c){function d(){this.$targetRadio=a("#targetRadio"),this.$radioBlock=a(".radioBlock"),this.$templateAdvancedLanguage=a("#template_advanced_language").html(),this.$blockLanguage=a("#blockLanguage"),this.$language=a("#languages"),this.$targetCheckbox=a("#targetCheckbox"),this.$checkboxBlock=a(".checkboxBlock"),this.$professionalAreaLink=a(".professionalAreaLink"),this.$professional_area=a("#professional_area"),this.$inputProfessionalAreaBlock=a("#inputProfessionalAreaBlock"),this.$professionalAreaList=a(".professionalAreaList"),this.$containerCity=a("#containerCity"),this.$city=a("#city"),this.$cityBlock=a(".cityBlock"),this.$names_institutions=a(".names_institutions"),this.$institutionsBlock=a(".institutionsBlock"),this.$linkSpan=a(".linkSpan"),this.wordKeyRussianValue={allWorlds:"Все слова",someWorlds:"Любое из слов",exactWorlds:"Точная фраза",noWorld:"Не встречаются"},this.languages=["абхазский","аварский","азербайджанский","албанский","амхарский","английский","арабский","армянский","африкаанс","баскский","башкирский","белорусский","бенгальский","болгарский","боснийский","бурятский","бенгерский","вьетнамский","голландский","греческий","грузинский","дагестанский","даргинский","дари","датский","езидский","иврит","ингушский","индонезийский","ирландский","исландский","испанский","итальянский","кабардино-черкесский","казахский","карачаево-балкарский","карельский","каталанский","кашмирский","китайский","коми","корейский","креольский (Сейшельские острова)","кумыкский","курдский","кхмерский (Камбоджийский)","кыргызский","лакский","лаосский","латинский","латышский","лезгинский","литовский","македонский","малазийский","мансийский","марийский","молдавский","монгольский","немецкий","непальский","ногайский","норвежский","осетинский","панджаби","персидский","польский","португальский","пушту","румынский","русский","санскрит","сербский","словацкий","словенский","сомалийский","суахили","тагальский","таджиксТалышский","тамильский","татарский","тибетский","тувинский","турецкий","туркменский","узбекский","уйгурский","украинский","урду","фарси","финский","фламандский","французский","хинди","хорватский","чеченский","чешский","чувашский","шведский","эсперанто","эстонский","якутский","японский"]}d.prototype.addEventListenerTargetRadio=function(){this.$targetRadio.on("click",{self:this},function(b){var c=a(this),d=a(".resumeSearchSort",c),e=d.siblings(".radioBlock"),f=a(b.target);f.hasClass("resumeSearchSort")&&e.toggle(),f.is("input[type=radio]")&&(d.text(b.data.self.wordKeyRussianValue[f.val()]),e.hide()),b.data.self.$checkboxBlock.hide()})},d.prototype.addEventListenerTargetCheckbox=function(){this.$targetCheckbox.on("click",{self:this},function(b){var c=a(this),d=a(".resumeSearchSort",c),e=d.siblings(".checkboxBlock"),f=a(b.target),g=a("input[type=checkbox]",c);if(f.hasClass("resumeSearchSort")&&e.toggle(),f.is("input[type=checkbox]")){if("placeSearchAll"==f.attr("id"))f.prop("checked",!0),g.not("#placeSearchAll").prop("checked",!1);else{if("workExperience"===f.attr("id")&&f.prop("checked")?a("input[type=checkbox]",f.parent().siblings(".childrenUl")).prop("checked",!0):"workExperience"!==f.attr("id")||f.prop("checked")||a("input[type=checkbox]",f.parent().siblings(".childrenUl")).prop("checked",!1),f.hasClass("work-experience")){var h=f.parents(".childrenUl").parent("li");a(".childrenUl input[type=checkbox]",h).filter(":checked").length?a("input[type=checkbox]#workExperience",h).prop("checked",!0):a("input[type=checkbox]#workExperience",h).prop("checked",!1)}g.not("#placeSearchAll").length===g.filter(":checked").length?(g.filter("#placeSearchAll").prop("checked",!0),g.not("#placeSearchAll").prop("checked",!1)):0===g.filter(":checked").length?g.filter("#placeSearchAll").prop("checked",!0):g.filter("#placeSearchAll").prop("checked",!1)}var i="";g.filter(":checked").parent("label").each(function(b,c){i+=b>0?", "+a(c).text():a(c).text(),d.text(i)})}else f.hasClass("buttonCheckboxLi")&&b.data.self.$checkboxBlock.hide();b.data.self.$radioBlock.hide()})},d.prototype.addEventListenerProfessionalArea=function(){this.$professionalAreaLink.on("click",{self:this},function(b){a(b.target).hasClass("link")&&(a(this).hide(),b.data.self.$inputProfessionalAreaBlock.show(),a("input",b.data.self.$inputProfessionalAreaBlock).prop("disabled",!1))})},d.prototype.getJsonProfessionalArea=function(){var c=this;a.getJSON(b+"/public/json/professional_area.json",function(a){var b=[];for(var d in a){b.push(a[d].title);for(var e in a[d].children)b.push(a[d].children[e].title)}c.$professional_area.autocomplete({source:b})})},d.prototype.addEventListenerTempateLanguage=function(){this.$blockLanguage.on("click",{self:this},function(b){if("linkLanguage"===b.target.id){c.registerHelper("ifCond",function(a,b,c){return a===b?c.fn(this):c.inverse(this)});var d=c.compile(b.data.self.$templateAdvancedLanguage),e=d({languages:b.data.self.languages});b.data.self.$language.append(e)}else a(b.target).hasClass("closeBlock")&&a(b.target).parent("li").remove()})},d.prototype.addEventListenerProfessionalBlock=function(){this.$inputProfessionalAreaBlock.on("click",{self:this},function(b){var c=a(b.target);"cancelProfessionalAreaButton"===c.attr("id")?(a(this).hide(),b.data.self.$professionalAreaLink.show(),a("input",b.data.self.$inputProfessionalAreaBlock).prop("disabled",!0)):"addProfessionalAreaButton"===c.attr("id")&&a.trim(b.data.self.$professional_area.val())&&(b.data.self.$professionalAreaList.append('<span><span class="closeBlock" title="удалить"><input type="hidden" name="advancedForm[professional_area][]" value="'+a.trim(b.data.self.$professional_area.val())+'"></span>'+a.trim(b.data.self.$professional_area.val())+"</span>"),b.data.self.$professional_area.val("")),c.hasClass("closeBlock")&&c.parent("span").remove()})},d.prototype.addEventListenerCityBlock=function(){this.$containerCity.on("click",{self:this},function(b){var c=a(b.target);"addCityButton"===c.attr("id")&&a.trim(b.data.self.$city.val())&&(b.data.self.$cityBlock.append('<span><span class="closeBlock" title="удалить"><input type="hidden" name="advancedForm[city][]" value="'+a.trim(b.data.self.$city.val())+'"></span>'+a.trim(b.data.self.$city.val())+"</span>"),b.data.self.$city.val("")),c.hasClass("closeBlock")&&c.parent("span").remove()})},d.prototype.addEventListenerNamesInstitutions=function(){this.$names_institutions.on("click",{self:this},function(b){var c=a(b.target);c.hasClass("link")&&(a("input",b.data.self.$institutionsBlock).prop("disabled",!1),b.data.self.$institutionsBlock.show(),c.hide())})},d.prototype.addEventListenerLinkSpan=function(){this.$linkSpan.on("click",{self:this},function(b){var c=a(b.target);if(c.hasClass("link")){var d=c.parent(".linkSpan"),e=d.siblings(".hideDiv");a("input[type=text]",e).prop("disabled",!1),e.show(),d.hide()}})},d.prototype.init=function(){this.addEventListenerTargetRadio(),this.addEventListenerTargetCheckbox(),this.addEventListenerProfessionalArea(),this.addEventListenerProfessionalBlock(),this.addEventListenerCityBlock(),this.addEventListenerLinkSpan(),this.addEventListenerTempateLanguage(),this.addEventListenerNamesInstitutions(),this.getJsonProfessionalArea()};var e=new d;e.init()}(jQuery,BASE_URL,Handlebars,window);